<!DOCTYPE html><html class=" js touch js touch"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@charset "UTF-8";[ng:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;} body{ color: #333333; font-family: ProximaNovaRegular,Lucida Grande,Lucida Sans Unicode,Arial,sans-serif;font-size: 15px; line-height: 17px;}</style><link href="https://developer.salesforce.com/resource/stylesheets/holygrail.min.css" rel="stylesheet" type="text/css"><script type="text/javascript" async="" src="https://www.google.com/cse/cse.js?cx=014927952804528719554:cug5vn4rcvy"></script><script type="text/javascript" async="" src="https://tag.perfectaudience.com/serve/52f42c76b4f4376fc1000003.js"></script><script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-MWZCN8"></script><script type="text/javascript" src="https://developer.salesforce.com/resource/javascripts/holygrail.min.js"></script><link rel="stylesheet" href="https://developer.salesforce.com/resource/stylesheets/docs.min.css" type="text/css"><link rel="stylesheet" href="https://developer.salesforce.com/resource/stylesheets/events.min.css" type="text/css" media="all"><script src="https://developer.salesforce.com/resource/javascripts/syntax-highlighter.min.js"></script><link href="https://developer.salesforce.com/resource/stylesheets/syntax-highlighter.min.css" rel="stylesheet" type="text/css"><title>TenantSecret | SOAP API Developer Guide | Salesforce Developers</title><script type="text/javascript" async="" src="https://pixel-geo.prfct.co/tagjs?a_id=17624&amp;source=js_tag"></script></head>
<body style="" class="adroll_safari_light_theme">
        <!-- uiView:  --><div df-bind-html-directive="" class="topic-content ng-binding ng-scope" df-bind-html="body" ui-view=""><a name="sforce_api_objects_tenantsecret.xml"><!-- --></a><h1 class="helpHead1"><span class="ph" id="topic-title"><a name="topic-title"><!-- --></a>TenantSecret</span></h1><div class="body refbody">
<div class="shortdesc"><span class="ph" id="summary"><a name="summary"><!-- --></a><span class="ph" id="TenantSecret_Desc"><a name="TenantSecret_Desc"><!-- --></a>This object stores an encrypted
            organization-specific key fragment that is used with the master secret to produce
            organization-specific data encryption keys.</span> This object is available in API version 34.0 and
         later.</span></div>

      <div class="section">
         <p class="p">You can rotate the tenant secret
            once every four hours in a sandbox organization or every 24 hours in production
            organizations.</p>

         <div class="box message info"><div class="inner"><div class="bd"><div class="media">
<img class="img mtm" src="https://res.cloudinary.com/hy4kyit2a/image/upload/img/msg_icons/helpNote_icon.gif" alt="Note"><div class="mediaBd">
<h4 class="mbs">Note</h4>
<p>This information is about Shield Platform Encryption and not Classic Encryption.</p>
</div>
</div></div></div></div>

      </div>

      <div class="section">
<h2 class="helpHead2">Supported Calls<a name="//apple_ref/cpp/Function/SupportedCalls" class="dashAnchor"></a></h2>

         
         <p class="p"><span class="ph" id="SupportedCalls_TenantSeed"><a name="SupportedCalls_TenantSeed"><!-- --></a><samp class="codeph nolang">create()</samp>, <samp class="codeph nolang">query()</samp>,
                  <samp class="codeph nolang">retrieve()</samp>, <samp class="codeph nolang">update()</samp></span></p>

      </div>

      <div class="section">
<h2 class="helpHead2">Fields</h2>

         
         
<div class="data colSort"><table class="featureTable sort_table" summary="">
               
               
               <thead class="thead sorted" align="left">
                  <tr>
                     <th class="featureTableHeader  " id="d700029e119">Field Name</th>

                     <th class="featureTableHeader  " id="d700029e122">Details</th>

                  </tr>

               </thead>

               <tbody class="tbody">
                  <tr>
                     <td class="entry" headers="d700029e119" data-title="Field Name"><a name="//apple_ref/cpp/Field/Description" class="dashAnchor"></a><span class="keyword parmname">Description</span></td>

                     <td class="entry" headers="d700029e122" data-title="Details">
                        <dl class="dl detailList">
                           
                              <dt class="dt dlterm">Type</dt>

                              <dd class="dd">string</dd>

                           
                           
                              <dt class="dt dlterm">Properties</dt>

                              <dd class="dd">Create,
                                    Nillable,
                                    Update</dd>

                           
                           
                              <dt class="dt dlterm">Description</dt>

                              <dd class="dd">
                                 <p class="p">The description of the tenant secret.</p>

                              </dd>

                           
                        </dl>

                     </td>

                  </tr>

                  <tr>
                     <td class="entry" headers="d700029e119" data-title="Field Name"><a name="//apple_ref/cpp/Field/SecretValue" class="dashAnchor"></a><span class="keyword parmname">SecretValue</span></td>

                     <td class="entry" headers="d700029e122" data-title="Details">
                        <dl class="dl detailList">
                           
                              <dt class="dt dlterm">Type</dt>

                              <dd class="dd">base64</dd>

                           
                           
                              <dt class="dt dlterm">Properties</dt>

                              <dd class="dd">Nillable,
                                    Update</dd>

                           
                           
                              <dt class="dt dlterm">Description</dt>

                              <dd class="dd">
                                 <p class="p">The encrypted 256-bit secret value encoded in base64.</p>

                              </dd>

                           
                        </dl>

                     </td>

                  </tr>

                  <tr>
                     <td class="entry" headers="d700029e119" data-title="Field Name"><a name="//apple_ref/cpp/Field/Status" class="dashAnchor"></a><span class="keyword parmname">Status</span></td>

                     <td class="entry" headers="d700029e122" data-title="Details">
                        <dl class="dl detailList">
                           
                              <dt class="dt dlterm">Type</dt>

                              <dd class="dd">Restricted picklist</dd>

                           
                           
                              <dt class="dt dlterm">Properties</dt>

                              <dd class="dd">Filter,
                                    Group, Nillable, Restricted picklist, Sort</dd>

                           
                           
                              <dt class="dt dlterm">Description</dt>

                              <dd class="dd">
                                 <div class="p">The current status of the tenant secret. Values are: <dl class="dl detailList">
                
                    <dt class="dt dlterm">ACTIVE</dt>

                    <dd class="dd">Can be used to encrypt and decrypt new or existing data.</dd>

                
                
                    <dt class="dt dlterm">ARCHIVED</dt>

                    <dd class="dd">Cannot encrypt new data. Can be used to decrypt data previously encrypted with this key when it was active. </dd>

                
                
                    <dt class="dt dlterm">DESTROYED</dt>

                    <dd class="dd">Cannot encrypt or decrypt data. Data encrypted with this key when it was active can no longer be decrypted. Files
                        and attachments encrypted with this key can no longer be downloaded.</dd>

                
            </dl>
</div>

                              </dd>

                           
                        </dl>

                     </td>

                  </tr>

                  <tr>
                     <td class="entry" headers="d700029e119" data-title="Field Name"><a name="//apple_ref/cpp/Field/Version" class="dashAnchor"></a><span class="keyword parmname">Version</span></td>

                     <td class="entry" headers="d700029e122" data-title="Details">
                        <dl class="dl detailList">
                           
                              <dt class="dt dlterm">Type</dt>

                              <dd class="dd">int</dd>

                           
                           
                              <dt class="dt dlterm">Properties</dt>

                              <dd class="dd">Filter,
                                    Group, idLookup, Sort</dd>

                           
                           
                              <dt class="dt dlterm">Description</dt>

                              <dd class="dd">
                                 <p class="p">The version number of this secret. The version number is unique
                                    within your organization.</p>

                              </dd>

                           
                        </dl>

                     </td>

                  </tr>

               </tbody>

            </table></div>

      </div>

      <div class="section" id="TenantSecretUsage">
<a name="TenantSecretUsage"><!-- --></a><h2 class="helpHead2">Usage</h2>

         
         <p class="p">Use this object to create or update your organization-specific tenant secret.
            For example, you can build an automated tenant secret creation and activation solution
            similar to the following.</p>

         <ol class="ol enumList">
            <li class="li">Start by creating an Apex class to create
               the new tenant secret.<div class="codeSection apex_code"><div id="highlighter_522449" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_522449_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_522449" menu="false" src="https://developer.salesforce.com/resource/flash/clipboard.swf"></div><a href="#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">global </code><code class="apexKey">class</code> <code class="plain">CreateNewSecret </code><code class="apexKey">implements</code> <code class="plain">Schedulable {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">global </code><code class="apexKey">void</code> <code class="plain">execute(SchedulableContext SC) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">TenantSecret k = </code><code class="apexKey">new</code> <code class="plain">TenantSecret ();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">k.description = </code><code class="apexString">'Created new secret from scheduled job'</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="apexKey">insert</code> <code class="plain">k;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div></div>
</li>

            <li class="li">Schedule the Apex
               class to run at the specified interval.<p class="p">This Apex code only
                  needs to be run a single time to schedule the job. This code runs the job every 90
                  days.</p>
<div class="codeSection apex_code"><div id="highlighter_434166" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_434166_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_434166" menu="false" src="https://developer.salesforce.com/resource/flash/clipboard.swf"></div><a href="#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">CreateNewSecret secret = </code><code class="apexKey">new</code> <code class="plain">CreateNewSecret();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="apexKey">String</code> <code class="plain">schedule = </code><code class="apexString">'0 0 0 1 JAN,APR,JUL,OCT ?'</code><code class="plain">;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="apexKey">String</code> <code class="plain">jobID = system.schedule(</code><code class="apexString">'Automated secret creation and activation'</code><code class="plain">, schedule, secret);</code></td></tr></tbody></table></div></div></div></div>
</li>

            <li class="li">Validate that the job is scheduled.</li>

            <li class="li">Validate that tenant secrets
               are created after the job is run.</li>

         </ol>

         <p class="p">Here is an example of destroying a tenant secret.</p>

         <div class="box message warn"><div class="inner"><div class="bd"><div class="media">
<img class="img mtm" src="https://res.cloudinary.com/hy4kyit2a/image/upload/img/msg_icons/helpWarning_icon.gif" alt="Warning"><div class="mediaBd">
<h4 class="mbs">Warning</h4>
<p>Your tenant secret is unique to your organization and
                to the specific data to which it applies. Once you destroy a tenant secret, related data is not
                accessible unless you previously exported the key and then import the key back into Salesforce.</p>
</div>
</div></div></div></div>

         <div class="codeSection apex_code"><div id="highlighter_154921" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_154921_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_154921" menu="false" src="https://developer.salesforce.com/resource/flash/clipboard.swf"></div><a href="#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">TenantSecret secret = [</code><code class="apexKey">SELECT</code> <code class="plain">Id </code><code class="apexKey">FROM</code> <code class="plain">TenantSecret </code><code class="apexKey">WHERE</code> <code class="plain">Version = </code><code class="value">2</code><code class="plain">];</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">secret.SecretValue = NULL;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="apexKey">update</code> <code class="plain">secret;</code></td></tr></tbody></table></div></div></div></div>

      </div>

   </div><div id="sfdc:seealso" class="related-links"></div><!--DRC 202.7--></div>
        <div class="row-fluid nav-buttons-container"> </div>
      </body></html>